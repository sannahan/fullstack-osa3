{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["Person","id","name","number","handleClick","onClick","Persons","persons","map","person","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","newSearch","handleSearch","Notification","message","className","ErrorNotification","errorMessage","baseUrl","axios","get","then","response","data","newObject","post","deleteId","delete","replaceId","replaceInfo","put","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","setErrorMessage","useEffect","personsService","initialPersons","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","window","confirm","newPerson","find","returnedPerson","setTimeout","catch","error","concat","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9451940d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ id, name, number, handleClick }) => {\n  return (\n    <div>\n      {name}&nbsp;\n      {number}&nbsp;\n      <button onClick={handleClick(id, name)}>delete</button>\n    </div>\n  )\n}\n\nconst Persons = ({ persons, handleClick }) => {\n  return (\n    <div>\n      {persons.map(person => <Person key={person.id} id={person.id} name={person.name} number={person.number} handleClick={handleClick}/>)}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ newSearch, handleSearch }) => {\n  return (\n    <div>\n      filter shown with <input value={newSearch} onChange={handleSearch} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (!message) {\n    return null\n  }\n\n  return (\n    <div className='message'>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst ErrorNotification = ({ errorMessage }) => {\n  if (!errorMessage) {\n    return null\n  }\n\n  return (\n    <div className='errormessage'>\n      {errorMessage}\n    </div>\n  )\n}\n\nexport default ErrorNotification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios\n    .get(baseUrl)\n    .then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios\n    .post(baseUrl, newObject)\n    .then(response => response.data)\n}\n\nconst deleteContact = deleteId => {\n  return axios\n    .delete(`${baseUrl}/${deleteId}`)\n    .then(response => response.data)\n}\n\nconst replace = (replaceId, replaceInfo) => {\n  return axios\n    .put(`${baseUrl}/${replaceId}`, replaceInfo)\n    .then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, deleteContact, replace }","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const newPerson = {\n          name: newName,\n          number: newNumber\n        }\n        const id = persons.find(person => person.name === newName).id\n\n        personsService\n          .replace(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Replaced ${newName}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`Information of ${newName} has already been removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.id !== id))\n          })\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personsService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(JSON.stringify(error.response.data))\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }    \n  }\n\n  const handleClick = (id, name) => {\n    const handler = () => {\n      if (window.confirm(`Delete ${name}?`)) {\n        personsService\n          .deleteContact(id)\n          .then(() => {\n            setPersons(persons.filter(person => person.id !== id))\n            setMessage(`Deleted ${name}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    }\n    return handler\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const personsToShow = newSearch === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n      <ErrorNotification errorMessage={errorMessage} />\n      <Filter newSearch={newSearch} handleSearch={handleSearch} />\n      <h2>Add new entry</h2>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleClick={handleClick}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}